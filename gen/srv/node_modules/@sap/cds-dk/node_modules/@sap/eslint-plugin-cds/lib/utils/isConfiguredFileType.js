const { FILES, MODEL_FILES } = require('../constants')

/**
 * Checks whether the given filePath matches a regex `files`
 * @param {string} filePath
 * @returns boolean
 */
module.exports = (filePath, fileType) => {
  const genRegex = (key) => new RegExp(`${key.map((file) => file.replace('*', '')).join('$|')}$`)
  let isValid = false
  switch (fileType) {
    case 'MODEL_FILES':
      isValid = genRegex(MODEL_FILES).test(filePath)
      break
    case 'FILES':
      isValid = genRegex(FILES).test(filePath)
      break
  }
  return isValid
}
