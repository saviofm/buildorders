# Generated manifest.yml based on template version 0.1.0
# appName = {{appName}}
# language={{language}}
# multitenancy={{isMultitenant}}
---
applications:
# -----------------------------------------------------------------------------------
# Backend Service
# -----------------------------------------------------------------------------------
- name: {{appName}}-{{srvName}}
  random-route: true  # for development only
{{#isNodejs}}
  path: {{& srvPath}}
  memory: 256M
  buildpack: nodejs_buildpack
{{/isNodejs}}
{{#isJava}}
  path: {{& srvPath}}/target/{{srvExt.archiveName}}
  memory: 1G
  disk_quota: 512M
  env:
    SPRING_PROFILES_ACTIVE: cloud
  buildpack: java_buildpack
{{/isJava}}
{{#hasRequires}}
  services:
{{#requires}}
{{#resource.isHana}}
  - {{resource.name}}
{{/resource.isHana}}
{{#resource.isXsuaa}}
  - {{resource.name}}
{{/resource.isXsuaa}}
{{/requires}}
{{/hasRequires}}

{{#needsSidecar}}
# -----------------------------------------------------------------------------------
# HANA Database Content Deployer App
# -----------------------------------------------------------------------------------
- name: {{appName}}-{{db.0.name}}-deployer
  path: {{& db.0.path}}
  no-route: true
  health-check-type: process
  memory: 256M
  instances: 1
  buildpack: nodejs_buildpack
{{#hasRequires}}
  services:
{{#requires}}
{{#resource.isHana}}
  - {{resource.name}}
{{/resource.isHana}}
{{/requires}}
{{/hasRequires}}
{{/needsSidecar}}
